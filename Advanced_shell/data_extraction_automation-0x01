#!/usr/bin/env bash

# Extract data using jq
pokemon_data=$(jq -r '
  .name,
  .height,
  .weight,
  .types[0].type.name
' data.json)

# Parse extracted values
name=$(echo "$pokemon_data" | awk 'NR==1')
height_dm=$(echo "$pokemon_data" | awk 'NR==2')
weight_hg=$(echo "$pokemon_data" | awk 'NR==3')
type=$(echo "$pokemon_data" | awk 'NR==4')

# Convert units (decimeters to meters, hectograms to kilograms)
height_m=$(echo "$height" | awk '{ printf "%.1f", $1 / 10 }')
weight_kg=$(echo "$weight" | awk '{ printf "%.0f", $1 / 10 }')

# Capitalize name and type
name=$(echo "$name" | awk '{print toupper(substr($0,1,1)) substr($0,2)}')
type=$(echo "$type" | awk '{print toupper(substr($0,1,1)) substr($0,2)}')

# Output formatted sentence
echo "$name is of type $type, weighs ${weight_kg}kg, and is ${height_m}m tall."
